import{E as Ne,u as qe}from"./el-button.7ae9f708.js";import{c as H,b as Qe,u as _e,E as Xe,O as Ze,w as ye,F as xe}from"./el-popper.6373bb4c.js";import{E as eo}from"./el-scrollbar.2e17a5e8.js";import{ax as oo,ak as to,a1 as no,_ as J,d as L,e as U,r as I,p as X,h as B,o as me,f as S,at as lo,b as q,g as G,aA as N,H as D,aG as ao,R as le,z as W,au as so,ag as A,a as Y,k as oe,w as M,B as _,bG as ro,bH as io,ae as ie,i as co,E as ee,aM as uo,u as Z,Z as po,J as fo,q as ne,c as te,ad as mo,ab as ae,n as se,A as re,j as vo,l as bo,G as go,P as Se,s as Oe,v as ve,aj as ke,ao as Re,bI as wo,bJ as ho,av as _o,bm as yo,bn as Eo,aN as Co,bK as Io,a7 as To,ai as $o,ba as Ee,L as No,bL as Ce,Q as So,Y as Oo,ap as ko,aq as Ro}from"./index.d46c8804.js";import{u as Po}from"./index.5dfa3775.js";import{b as Pe}from"./index.1030af3d.js";import{t as be}from"./error.db406747.js";import{c as j}from"./strings.6e8f985f.js";import{U as Fe}from"./event.9443ec1f.js";import{f as Fo}from"./vnode.f493d62d.js";const Be=(...e)=>o=>{e.forEach(s=>{oo(s)?s(o):s.value=o})},ce=Symbol("tabsRootContextKey"),Bo=(e,o,s)=>Fo(e.subTree).filter(l=>{var n;return no(l)&&((n=l.type)==null?void 0:n.name)===o&&!!l.component}).map(l=>l.component.uid).map(l=>s[l]).filter(l=>!!l),Do=(e,o)=>{const s={},a=to([]);return{children:a,addChild:n=>{s[n.uid]=n,a.value=Bo(e,o,s)},removeChild:n=>{delete s[n],a.value=a.value.filter(c=>c.uid!==n)}}},Mo=L({inheritAttrs:!1});function Ko(e,o,s,a,r,l){return U(e.$slots,"default")}var Ao=J(Mo,[["render",Ko],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Lo=L({name:"ElCollectionItem",inheritAttrs:!1});function zo(e,o,s,a,r,l){return U(e.$slots,"default")}var Go=J(Lo,[["render",zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const De="data-el-collection-item",Me=e=>{const o=`El${e}Collection`,s=`${o}Item`,a=Symbol(o),r=Symbol(s),l={...Ao,name:o,setup(){const c=I(null),u=new Map;X(a,{itemMap:u,getItems:()=>{const d=S(c);if(!d)return[];const i=Array.from(d.querySelectorAll(`[${De}]`));return[...u.values()].sort((t,b)=>i.indexOf(t.ref)-i.indexOf(b.ref))},collectionRef:c})}},n={...Go,name:s,setup(c,{attrs:u}){const m=I(null),d=B(a,void 0);X(r,{collectionItemRef:m}),me(()=>{const i=S(m);i&&d.itemMap.set(i,{ref:i,...u})}),lo(()=>{const i=S(m);d.itemMap.delete(i)})}};return{COLLECTION_INJECTION_KEY:a,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:l,ElCollectionItem:n}},Uo=q({style:{type:G([String,Array,Object])},currentTabId:{type:G(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:G(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Yo,ElCollectionItem:Vo,COLLECTION_INJECTION_KEY:ge,COLLECTION_ITEM_INJECTION_KEY:Ho}=Me("RovingFocusGroup"),we=Symbol("elRovingFocusGroup"),Ke=Symbol("elRovingFocusGroupItem"),Jo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},jo=(e,o)=>{if(o!=="rtl")return e;switch(e){case N.right:return N.left;case N.left:return N.right;default:return e}},Wo=(e,o,s)=>{const a=jo(e.key,s);if(!(o==="vertical"&&[N.left,N.right].includes(a))&&!(o==="horizontal"&&[N.up,N.down].includes(a)))return Jo[a]},qo=(e,o)=>e.map((s,a)=>e[(a+o)%e.length]),he=e=>{const{activeElement:o}=document;for(const s of e)if(s===o||(s.focus(),o!==document.activeElement))return},Ie="currentTabIdChange",Te="rovingFocusGroup.entryFocus",Qo={bubbles:!1,cancelable:!0},Xo=L({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Uo,emits:[Ie,"entryFocus"],setup(e,{emit:o}){var s;const a=I((s=e.currentTabId||e.defaultCurrentTabId)!=null?s:null),r=I(!1),l=I(!1),n=I(null),{getItems:c}=B(ge,void 0),u=D(()=>[{outline:"none"},e.style]),m=p=>{o(Ie,p)},d=()=>{r.value=!0},i=H(p=>{var C;(C=e.onMousedown)==null||C.call(e,p)},()=>{l.value=!0}),v=H(p=>{var C;(C=e.onFocus)==null||C.call(e,p)},p=>{const C=!S(l),{target:f,currentTarget:T}=p;if(f===T&&C&&!S(r)){const $=new Event(Te,Qo);if(T==null||T.dispatchEvent($),!$.defaultPrevented){const E=c().filter(h=>h.focusable),P=E.find(h=>h.active),R=E.find(h=>h.id===S(a)),w=[P,R,...E].filter(Boolean).map(h=>h.ref);he(w)}}l.value=!1}),t=H(p=>{var C;(C=e.onBlur)==null||C.call(e,p)},()=>{r.value=!1}),b=(...p)=>{o("entryFocus",...p)};X(we,{currentTabbedId:ao(a),loop:le(e,"loop"),tabIndex:D(()=>S(r)?-1:0),rovingFocusGroupRef:n,rovingFocusGroupRootStyle:u,orientation:le(e,"orientation"),dir:le(e,"dir"),onItemFocus:m,onItemShiftTab:d,onBlur:t,onFocus:v,onMousedown:i}),W(()=>e.currentTabId,p=>{a.value=p!=null?p:null}),so(n,Te,b)}});function Zo(e,o,s,a,r,l){return U(e.$slots,"default")}var xo=J(Xo,[["render",Zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const et=L({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Yo,ElRovingFocusGroupImpl:xo}});function ot(e,o,s,a,r,l){const n=A("el-roving-focus-group-impl"),c=A("el-focus-group-collection");return Y(),oe(c,null,{default:M(()=>[_(n,ro(io(e.$attrs)),{default:M(()=>[U(e.$slots,"default")]),_:3},16)]),_:3})}var tt=J(et,[["render",ot],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const nt=L({components:{ElRovingFocusCollectionItem:Vo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:s,loop:a,onItemFocus:r,onItemShiftTab:l}=B(we,void 0),{getItems:n}=B(ge,void 0),c=Pe(),u=I(null),m=H(t=>{o("mousedown",t)},t=>{e.focusable?r(S(c)):t.preventDefault()}),d=H(t=>{o("focus",t)},()=>{r(S(c))}),i=H(t=>{o("keydown",t)},t=>{const{key:b,shiftKey:p,target:C,currentTarget:f}=t;if(b===N.tab&&p){l();return}if(C!==f)return;const T=Wo(t);if(T){t.preventDefault();let E=n().filter(P=>P.focusable).map(P=>P.ref);switch(T){case"last":{E.reverse();break}case"prev":case"next":{T==="prev"&&E.reverse();const P=E.indexOf(f);E=a.value?qo(E,P+1):E.slice(P+1);break}}ie(()=>{he(E)})}}),v=D(()=>s.value===S(c));return X(Ke,{rovingFocusGroupItemRef:u,tabIndex:D(()=>S(v)?0:-1),handleMousedown:m,handleFocus:d,handleKeydown:i}),{id:c,handleKeydown:i,handleFocus:d,handleMousedown:m}}});function lt(e,o,s,a,r,l){const n=A("el-roving-focus-collection-item");return Y(),oe(n,{id:e.id,focusable:e.focusable,active:e.active},{default:M(()=>[U(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var at=J(nt,[["render",lt],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const st=q({trigger:Qe.trigger,effect:{..._e.effect,default:"light"},type:{type:G(String)},placement:{type:G(String),default:"bottom"},popperOptions:{type:G(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:G([Number,String]),default:0},maxHeight:{type:G([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:G(Object)},teleported:_e.teleported}),Ae=q({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:co}}),rt=q({onKeydown:{type:G(Function)}}),it=[N.down,N.pageDown,N.home],Le=[N.up,N.pageUp,N.end],ct=[...it,...Le],{ElCollection:ut,ElCollectionItem:dt,COLLECTION_INJECTION_KEY:pt,COLLECTION_ITEM_INJECTION_KEY:ft}=Me("Dropdown"),ue=Symbol("elDropdown"),{ButtonGroup:mt}=Ne,vt=L({name:"ElDropdown",components:{ElButton:Ne,ElButtonGroup:mt,ElScrollbar:eo,ElDropdownCollection:ut,ElTooltip:Xe,ElRovingFocusGroup:tt,ElOnlyChild:Ze,ElIcon:ee,ArrowDown:uo},props:st,emits:["visible-change","click","command"],setup(e,{emit:o}){const s=ne(),a=Z("dropdown"),{t:r}=Po(),l=I(),n=I(),c=I(null),u=I(null),m=I(null),d=I(null),i=I(!1),v=[N.enter,N.space,N.down],t=D(()=>({maxHeight:po(e.maxHeight)})),b=D(()=>[a.m(E.value)]),p=Pe().value,C=D(()=>e.id||p);function f(){T()}function T(){var g;(g=c.value)==null||g.onClose()}function $(){var g;(g=c.value)==null||g.onOpen()}const E=fo();function P(...g){o("command",...g)}function R(){}function z(){const g=S(u);g==null||g.focus(),d.value=null}function w(g){d.value=g}function h(g){i.value||(g.preventDefault(),g.stopImmediatePropagation())}function y(){o("visible-change",!0)}function F(g){(g==null?void 0:g.type)==="keydown"&&u.value.focus()}function k(){o("visible-change",!1)}return X(ue,{contentRef:u,role:D(()=>e.role),triggerId:C,isUsingKeyboard:i,onItemEnter:R,onItemLeave:z}),X("elDropdown",{instance:s,dropdownSize:E,handleClick:f,commandHandler:P,trigger:le(e,"trigger"),hideOnClick:le(e,"hideOnClick")}),{t:r,ns:a,scrollbar:m,wrapStyle:t,dropdownTriggerKls:b,dropdownSize:E,triggerId:C,triggerKeys:v,currentTabId:d,handleCurrentTabIdChange:w,handlerMainButtonClick:g=>{o("click",g)},handleEntryFocus:h,handleClose:T,handleOpen:$,handleBeforeShowTooltip:y,handleShowTooltip:F,handleBeforeHideTooltip:k,onFocusAfterTrapped:g=>{var O,x;g.preventDefault(),(x=(O=u.value)==null?void 0:O.focus)==null||x.call(O,{preventScroll:!0})},popperRef:c,contentRef:u,triggeringElementRef:l,referenceElementRef:n}}});function bt(e,o,s,a,r,l){var n;const c=A("el-dropdown-collection"),u=A("el-roving-focus-group"),m=A("el-scrollbar"),d=A("el-only-child"),i=A("el-tooltip"),v=A("el-button"),t=A("arrow-down"),b=A("el-icon"),p=A("el-button-group");return Y(),te("div",{class:se([e.ns.b(),e.ns.is("disabled",e.disabled)])},[_(i,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(n=e.referenceElementRef)==null?void 0:n.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},mo({content:M(()=>[_(m,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:M(()=>[_(u,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:M(()=>[_(c,null,{default:M(()=>[U(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:M(()=>[_(d,{id:e.triggerId,role:"button",tabindex:e.tabindex},{default:M(()=>[U(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(Y(),oe(p,{key:0},{default:M(()=>[_(v,ae({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:M(()=>[U(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),_(v,ae({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:M(()=>[_(b,{class:se(e.ns.e("icon"))},{default:M(()=>[_(t)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):re("v-if",!0)],2)}var gt=J(vt,[["render",bt],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const wt=L({name:"DropdownItemImpl",components:{ElIcon:ee},props:Ae,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const s=Z("dropdown"),{role:a}=B(ue,void 0),{collectionItemRef:r}=B(ft,void 0),{collectionItemRef:l}=B(Ho,void 0),{rovingFocusGroupItemRef:n,tabIndex:c,handleFocus:u,handleKeydown:m,handleMousedown:d}=B(Ke,void 0),i=Be(r,l,n),v=D(()=>a.value==="menu"?"menuitem":a.value==="navigation"?"link":"button"),t=H(b=>{const{code:p}=b;if(p===N.enter||p===N.space)return b.preventDefault(),b.stopImmediatePropagation(),o("clickimpl",b),!0},m);return{ns:s,itemRef:i,dataset:{[De]:""},role:v,tabIndex:c,handleFocus:u,handleKeydown:t,handleMousedown:d}}}),ht=["aria-disabled","tabindex","role"];function _t(e,o,s,a,r,l){const n=A("el-icon");return Y(),te(go,null,[e.divided?(Y(),te("li",ae({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):re("v-if",!0),vo("li",ae({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=c=>e.$emit("clickimpl",c)),onFocus:o[1]||(o[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onKeydown:o[2]||(o[2]=(...c)=>e.handleKeydown&&e.handleKeydown(...c)),onMousedown:o[3]||(o[3]=(...c)=>e.handleMousedown&&e.handleMousedown(...c)),onPointermove:o[4]||(o[4]=c=>e.$emit("pointermove",c)),onPointerleave:o[5]||(o[5]=c=>e.$emit("pointerleave",c))}),[e.icon?(Y(),oe(n,{key:0},{default:M(()=>[(Y(),oe(bo(e.icon)))]),_:1})):re("v-if",!0),U(e.$slots,"default")],16,ht)],64)}var yt=J(wt,[["render",_t],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const ze=()=>{const e=B("elDropdown",{}),o=D(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},Et=L({name:"ElDropdownItem",components:{ElDropdownCollectionItem:dt,ElRovingFocusItem:at,ElDropdownItemImpl:yt},inheritAttrs:!1,props:Ae,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:s}){const{elDropdown:a}=ze(),r=ne(),l=I(null),n=D(()=>{var t,b;return(b=(t=S(l))==null?void 0:t.textContent)!=null?b:""}),{onItemEnter:c,onItemLeave:u}=B(ue,void 0),m=H(t=>(o("pointermove",t),t.defaultPrevented),ye(t=>{var b;e.disabled?u(t):(c(t),t.defaultPrevented||(b=t.currentTarget)==null||b.focus())})),d=H(t=>(o("pointerleave",t),t.defaultPrevented),ye(t=>{u(t)})),i=H(t=>(o("click",t),t.type!=="keydown"&&t.defaultPrevented),t=>{var b,p,C;if(e.disabled){t.stopImmediatePropagation();return}(b=a==null?void 0:a.hideOnClick)!=null&&b.value&&((p=a.handleClick)==null||p.call(a)),(C=a.commandHandler)==null||C.call(a,e.command,r,t)}),v=D(()=>({...e,...s}));return{handleClick:i,handlePointerMove:m,handlePointerLeave:d,textContent:n,propsAndAttrs:v}}});function Ct(e,o,s,a,r,l){var n;const c=A("el-dropdown-item-impl"),u=A("el-roving-focus-item"),m=A("el-dropdown-collection-item");return Y(),oe(m,{disabled:e.disabled,"text-value":(n=e.textValue)!=null?n:e.textContent},{default:M(()=>[_(u,{focusable:!e.disabled},{default:M(()=>[_(c,ae(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:M(()=>[U(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ge=J(Et,[["render",Ct],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const It=L({name:"ElDropdownMenu",props:rt,setup(e){const o=Z("dropdown"),{_elDropdownSize:s}=ze(),a=s.value,{focusTrapRef:r,onKeydown:l}=B(xe,void 0),{contentRef:n,role:c,triggerId:u}=B(ue,void 0),{collectionRef:m,getItems:d}=B(pt,void 0),{rovingFocusGroupRef:i,rovingFocusGroupRootStyle:v,tabIndex:t,onBlur:b,onFocus:p,onMousedown:C}=B(we,void 0),{collectionRef:f}=B(ge,void 0),T=D(()=>[o.b("menu"),o.bm("menu",a==null?void 0:a.value)]),$=Be(n,m,r,i,f),E=H(R=>{var z;(z=e.onKeydown)==null||z.call(e,R)},R=>{const{currentTarget:z,code:w,target:h}=R;if(z.contains(h),N.tab===w&&R.stopImmediatePropagation(),R.preventDefault(),h!==S(n)||!ct.includes(w))return;const F=d().filter(k=>!k.disabled).map(k=>k.ref);Le.includes(w)&&F.reverse(),he(F)});return{size:a,rovingFocusGroupRootStyle:v,tabIndex:t,dropdownKls:T,role:c,triggerId:u,dropdownListWrapperRef:$,handleKeydown:R=>{E(R),l(R)},onBlur:b,onFocus:p,onMousedown:C}}}),Tt=["role","aria-labelledby"];function $t(e,o,s,a,r,l){return Y(),te("ul",{ref:e.dropdownListWrapperRef,class:se(e.dropdownKls),style:Se(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...n)=>e.onBlur&&e.onBlur(...n)),onFocus:o[1]||(o[1]=(...n)=>e.onFocus&&e.onFocus(...n)),onKeydown:o[2]||(o[2]=(...n)=>e.handleKeydown&&e.handleKeydown(...n)),onMousedown:o[3]||(o[3]=(...n)=>e.onMousedown&&e.onMousedown(...n))},[U(e.$slots,"default")],46,Tt)}var Ue=J(It,[["render",$t],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Xt=Oe(gt,{DropdownItem:Ge,DropdownMenu:Ue}),Zt=ve(Ge),xt=ve(Ue),Nt=q({tabs:{type:G(Array),default:()=>ke([])}}),Ye="ElTabBar",St=L({name:Ye}),Ot=L({...St,props:Nt,setup(e,{expose:o}){const s=e,a=ne(),r=B(ce);r||be(Ye,"<el-tabs><el-tab-bar /></el-tabs>");const l=Z("tabs"),n=I(),c=I(),u=()=>{let d=0,i=0;const v=["top","bottom"].includes(r.props.tabPosition)?"width":"height",t=v==="width"?"x":"y";return s.tabs.every(b=>{var p,C,f,T;const $=(C=(p=a.parent)==null?void 0:p.refs)==null?void 0:C[`tab-${b.uid}`];if(!$)return!1;if(!b.active)return!0;i=$[`client${j(v)}`];const E=t==="x"?"left":"top";d=$[`offset${j(E)}`]-((T=(f=$.parentElement)==null?void 0:f[`offset${j(E)}`])!=null?T:0);const P=$.closest(".is-scrollable");if(P){const z=window.getComputedStyle(P);d+=Number.parseFloat(z[`padding${j(E)}`])}const R=window.getComputedStyle($);return v==="width"&&(s.tabs.length>1&&(i-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),d+=Number.parseFloat(R.paddingLeft)),!1}),{[v]:`${i}px`,transform:`translate${j(t)}(${d}px)`}},m=()=>c.value=u();return W(()=>s.tabs,async()=>{await ie(),m()},{immediate:!0}),Re(n,()=>m()),o({ref:n,update:m}),(d,i)=>(Y(),te("div",{ref_key:"barRef",ref:n,class:se([S(l).e("active-bar"),S(l).is(S(r).props.tabPosition)]),style:Se(c.value)},null,6))}});var kt=J(Ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Rt=q({panes:{type:G(Array),default:()=>ke([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Pt={tabClick:(e,o,s)=>s instanceof Event,tabRemove:(e,o)=>o instanceof Event},$e="ElTabNav",Ft=L({name:$e,props:Rt,emits:Pt,setup(e,{expose:o,emit:s}){const a=ne(),r=B(ce);r||be($e,"<el-tabs><tab-nav /></el-tabs>");const l=Z("tabs"),n=wo(),c=ho(),u=I(),m=I(),d=I(),i=I(!1),v=I(0),t=I(!1),b=I(!0),p=D(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),C=D(()=>({transform:`translate${p.value==="width"?"X":"Y"}(-${v.value}px)`})),f=()=>{if(!u.value)return;const w=u.value[`offset${j(p.value)}`],h=v.value;if(!h)return;const y=h>w?h-w:0;v.value=y},T=()=>{if(!u.value||!m.value)return;const w=m.value[`offset${j(p.value)}`],h=u.value[`offset${j(p.value)}`],y=v.value;if(w-y<=h)return;const F=w-y>h*2?y+h:w-h;v.value=F},$=async()=>{const w=m.value;if(!i.value||!d.value||!u.value||!w)return;await ie();const h=d.value.querySelector(".is-active");if(!h)return;const y=u.value,F=["top","bottom"].includes(r.props.tabPosition),k=h.getBoundingClientRect(),K=y.getBoundingClientRect(),V=F?w.offsetWidth-K.width:w.offsetHeight-K.height,g=v.value;let O=g;F?(k.left<K.left&&(O=g-(K.left-k.left)),k.right>K.right&&(O=g+k.right-K.right)):(k.top<K.top&&(O=g-(K.top-k.top)),k.bottom>K.bottom&&(O=g+(k.bottom-K.bottom))),O=Math.max(O,0),v.value=Math.min(O,V)},E=()=>{if(!m.value||!u.value)return;const w=m.value[`offset${j(p.value)}`],h=u.value[`offset${j(p.value)}`],y=v.value;if(h<w){const F=v.value;i.value=i.value||{},i.value.prev=F,i.value.next=F+h<w,w-F<h&&(v.value=w-h)}else i.value=!1,y>0&&(v.value=0)},P=w=>{const h=w.code,{up:y,down:F,left:k,right:K}=N;if(![y,F,k,K].includes(h))return;const V=Array.from(w.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),g=V.indexOf(w.target);let O;h===k||h===y?g===0?O=V.length-1:O=g-1:g<V.length-1?O=g+1:O=0,V[O].focus({preventScroll:!0}),V[O].click(),R()},R=()=>{b.value&&(t.value=!0)},z=()=>t.value=!1;return W(n,w=>{w==="hidden"?b.value=!1:w==="visible"&&setTimeout(()=>b.value=!0,50)}),W(c,w=>{w?setTimeout(()=>b.value=!0,50):b.value=!1}),Re(d,E),me(()=>setTimeout(()=>$(),0)),_o(()=>E()),o({scrollToActiveTab:$,removeFocus:z}),W(()=>e.panes,()=>a.update(),{flush:"post"}),()=>{const w=i.value?[_("span",{class:[l.e("nav-prev"),l.is("disabled",!i.value.prev)],onClick:f},[_(ee,null,{default:()=>[_(yo,null,null)]})]),_("span",{class:[l.e("nav-next"),l.is("disabled",!i.value.next)],onClick:T},[_(ee,null,{default:()=>[_(Eo,null,null)]})])]:null,h=e.panes.map((y,F)=>{var k,K,V,g;const O=y.uid,x=y.props.disabled,de=(K=(k=y.props.name)!=null?k:y.index)!=null?K:`${F}`,pe=!x&&(y.isClosable||e.editable);y.index=`${F}`;const Je=pe?_(ee,{class:"is-icon-close",onClick:Q=>s("tabRemove",y,Q)},{default:()=>[_(Co,null,null)]}):null,je=((g=(V=y.slots).label)==null?void 0:g.call(V))||y.props.label,We=!x&&y.active?0:-1;return _("div",{ref:`tab-${O}`,class:[l.e("item"),l.is(r.props.tabPosition),l.is("active",y.active),l.is("disabled",x),l.is("closable",pe),l.is("focus",t.value)],id:`tab-${de}`,key:`tab-${O}`,"aria-controls":`pane-${de}`,role:"tab","aria-selected":y.active,tabindex:We,onFocus:()=>R(),onBlur:()=>z(),onClick:Q=>{z(),s("tabClick",y,de,Q)},onKeydown:Q=>{pe&&(Q.code===N.delete||Q.code===N.backspace)&&s("tabRemove",y,Q)}},[je,Je])});return _("div",{ref:d,class:[l.e("nav-wrap"),l.is("scrollable",!!i.value),l.is(r.props.tabPosition)]},[w,_("div",{class:l.e("nav-scroll"),ref:u},[_("div",{class:[l.e("nav"),l.is(r.props.tabPosition),l.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:m,style:C.value,role:"tablist",onKeydown:P},[e.type?null:_(kt,{tabs:[...e.panes]},null),h])])])}}}),Bt=q({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:G(Function),default:()=>!0},stretch:Boolean}),fe=e=>To(e)||$o(e),Dt={[Fe]:e=>fe(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>fe(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>fe(e),tabAdd:()=>!0};var Mt=L({name:"ElTabs",props:Bt,emits:Dt,setup(e,{emit:o,slots:s,expose:a}){var r,l;const n=Z("tabs"),{children:c,addChild:u,removeChild:m}=Do(ne(),"ElTabPane"),d=I(),i=I((l=(r=e.modelValue)!=null?r:e.activeName)!=null?l:"0"),v=f=>{i.value=f,o(Fe,f),o("tabChange",f)},t=async f=>{var T,$,E;if(!(i.value===f||Ee(f)))try{await((T=e.beforeLeave)==null?void 0:T.call(e,f,i.value))!==!1&&(v(f),(E=($=d.value)==null?void 0:$.removeFocus)==null||E.call($))}catch{}},b=(f,T,$)=>{f.props.disabled||(t(T),o("tabClick",f,$))},p=(f,T)=>{f.props.disabled||Ee(f.props.name)||(T.stopPropagation(),o("edit",f.props.name,"remove"),o("tabRemove",f.props.name))},C=()=>{o("edit",void 0,"add"),o("tabAdd")};return qe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},D(()=>!!e.activeName)),W(()=>e.activeName,f=>t(f)),W(()=>e.modelValue,f=>t(f)),W(i,async()=>{var f;await ie(),(f=d.value)==null||f.scrollToActiveTab()}),X(ce,{props:e,currentName:i,registerPane:u,unregisterPane:m}),a({currentName:i}),()=>{const f=e.editable||e.addable?_("span",{class:n.e("new-tab"),tabindex:"0",onClick:C,onKeydown:E=>{E.code===N.enter&&C()}},[_(ee,{class:n.is("icon-plus")},{default:()=>[_(Io,null,null)]})]):null,T=_("div",{class:[n.e("header"),n.is(e.tabPosition)]},[f,_(Ft,{ref:d,currentName:i.value,editable:e.editable,type:e.type,panes:c.value,stretch:e.stretch,onTabClick:b,onTabRemove:p},null)]),$=_("div",{class:n.e("content")},[U(s,"default")]);return _("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[T,$]:[$,T]])}}});const Kt=q({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),At=["id","aria-hidden","aria-labelledby"],Ve="ElTabPane",Lt=L({name:Ve}),zt=L({...Lt,props:Kt,setup(e){const o=e,s=ne(),a=No(),r=B(ce);r||be(Ve,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const l=Z("tab-pane"),n=I(),c=D(()=>o.closable||r.props.closable),u=Ce(()=>{var t;return r.currentName.value===((t=o.name)!=null?t:n.value)}),m=I(u.value),d=D(()=>{var t;return(t=o.name)!=null?t:n.value}),i=Ce(()=>!o.lazy||m.value||u.value);W(u,t=>{t&&(m.value=!0)});const v=So({uid:s.uid,slots:a,props:o,paneName:d,active:u,index:n,isClosable:c});return me(()=>{r.registerPane(v)}),Oo(()=>{r.unregisterPane(v.uid)}),(t,b)=>S(i)?ko((Y(),te("div",{key:0,id:`pane-${S(d)}`,class:se(S(l).b()),role:"tabpanel","aria-hidden":!S(u),"aria-labelledby":`tab-${S(d)}`},[U(t.$slots,"default")],10,At)),[[Ro,S(u)]]):re("v-if",!0)}});var He=J(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const en=Oe(Mt,{TabPane:He}),on=ve(He);export{on as E,en as a,Zt as b,xt as c,Xt as d};
