import{aZ as v,a5 as b,h as f,c1 as h,a as w,bg as i,w as C,bi as g,bf as k,c2 as M,bh as x,a7 as r,b as S,d as m,e as E,v as O,c3 as d,S as y,b4 as T}from"./index.fe16509b.js";import{g as P}from"./validator.c2434db1.js";const Y=e=>{v(e)||b("[useLockscreen]","You need to pass a ref param to this function");const t=f("popup"),s=h(()=>t.bm("parent","hidden"));if(!w||i(document.body,s.value))return;let n=0,a=!1,l="0";const o=()=>{setTimeout(()=>{x(document.body,s.value),a&&(document.body.style.width=l)},200)};C(e,c=>{if(!c){o();return}a=!i(document.body,s.value),a&&(l=document.body.style.width),n=P(t.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,p=g(document.body,"overflowY");n>0&&(u||p==="scroll")&&a&&(document.body.style.width=`calc(100% - ${n}px)`),k(document.body,s.value)}),M(()=>o())},z=e=>{if(!e)return{onClick:r,onMousedown:r,onMouseup:r};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},I=S({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),B={click:e=>e instanceof MouseEvent};var H=E({name:"ElOverlay",props:I,emits:B,setup(e,{slots:t,emit:s}){const n=f("overlay"),a=u=>{s("click",u)},{onClick:l,onMousedown:o,onMouseup:c}=z(e.customMaskEvent?void 0:a);return()=>e.mask?O("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:o,onMouseup:c},[y(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(t,"default")])}});const W=H;export{W as E,z as a,Y as u};
