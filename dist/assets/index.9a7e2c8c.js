import{aY as v,d as S,cr as A,aS as V,x as b,r as f,A as D,B as C,a as I,c as R,j as u,D as a,w as c,f as k,G as L,a_ as N,a$ as T,bs as M,J as q}from"./index.7e949226.js";import{E as z}from"./index.d55c6e20.js";import{E as H,d as U}from"./index.9e5b9d93.js";const Y=v({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:5,max:12,message:"\u957F\u5EA6\u53EA\u80FD\u5728 5 - 12",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:5,max:12,message:"\u957F\u5EA6\u53EA\u80FD\u5728 5 - 12",trigger:"change"}]});function $(){const e=new Date,t=e.getFullYear(),d=e.getMonth()+1,m=e.getDate(),p=e.getHours(),_=e.getMinutes(),s=e.getSeconds();return{curYear:t,curMonth:d,curDay:m,curHour:p,curMin:_,curSec:s}}function P(){const{curHour:e}=$();let t="";return e<12?t="\u4E0A\u5348":e<18?t="\u4E0B\u5348":t="\u665A\u4E0A",{timeStr:t+"\u597D, \u{1F31E}"}}const w=e=>(N("data-v-89d52b5f"),e=e(),T(),e),j={class:"login-container"},G={class:"login-form"},J=w(()=>u("h3",{class:"title"},"Login Form",-1)),O=w(()=>u("div",{class:"tips"},[u("span",{style:{"margin-right":"20px"}},"username: admin"),u("span",null," password: any")],-1)),Q=S({__name:"index",setup(e){const t=A(),{name:d}=V(t),{router:m,route:p}=b(),{timeStr:_}=P(),s=v({username:"",password:""}),g=f({});D(()=>p.query,l=>{g.value=l},{immediate:!0});const x=async l=>{await l.validate(async o=>{o&&(n.value=!0,t.login(s).then(r=>{r.statusCode===200&&setTimeout(()=>{n.value=!1,M({title:_,message:`\u6B22\u8FCE\u767B\u5F55 ${d.value}`,type:"success"}),m.push({path:g.value.redirect||"/"})},1e3)}).catch(r=>{n.value=!1}))})},h=f(),E=Y,n=f(!1);return(l,o)=>{const r=z,F=H,y=C,B=U;return I(),R("div",j,[u("div",G,[J,a(B,{model:s,rules:k(E),ref_key:"ruleFormRef",ref:h},{default:c(()=>[a(F,{prop:"username",style:{display:"flex"}},{default:c(()=>[a(r,{"prefix-icon":"UserFilled",size:"large",modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=i=>s.username=i),placeholder:"Please input userName",width:"80"},null,8,["modelValue"])]),_:1}),a(F,{prop:"password"},{default:c(()=>[a(r,{"prefix-icon":"Lock",size:"large",modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=i=>s.password=i),"show-password":"",placeholder:"Please input password"},null,8,["modelValue"])]),_:1}),a(y,{size:"large",type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:o[2]||(o[2]=i=>x(h.value)),loading:n.value},{default:c(()=>[L("Login ")]),_:1},8,["loading"]),O]),_:1},8,["model","rules"])])])}}});const Z=q(Q,[["__scopeId","data-v-89d52b5f"]]);export{Z as default};
