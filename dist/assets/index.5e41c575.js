import{Q as v,d as S,bN as b,aQ as A,r as f,z as V,a as D,c as C,j as u,B as r,w as c,f as I,D as R,aR as N,aS as k,bA as L}from"./index.d46c8804.js";import{E as T,a as z}from"./el-form-item.51dd6cfb.js";import{E as M}from"./el-button.7ae9f708.js";import{E as q}from"./el-input.89c01527.js";import{u as H}from"./useRoute.6fcb712e.js";import{_ as Q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./error.db406747.js";import"./index.1030af3d.js";import"./_arrayPush.368451bf.js";import"./event.9443ec1f.js";import"./isNil.b8a77b53.js";const U=v({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:5,max:12,message:"\u957F\u5EA6\u53EA\u80FD\u5728 5 - 12",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:5,max:12,message:"\u957F\u5EA6\u53EA\u80FD\u5728 5 - 12",trigger:"change"}]});function P(){const e=new Date,t=e.getFullYear(),m=e.getMonth()+1,d=e.getDate(),p=e.getHours(),_=e.getMinutes(),s=e.getSeconds();return{curYear:t,curMonth:m,curDay:d,curHour:p,curMin:_,curSec:s}}function Y(){const{curHour:e}=P();let t="";return e<12?t="\u4E0A\u5348":e<18?t="\u4E0B\u5348":t="\u665A\u4E0A",{timeStr:t+"\u597D, \u{1F31E}"}}const E=e=>(N("data-v-14b4721f"),e=e(),k(),e),$={class:"login-container"},j={class:"login-form"},O=E(()=>u("h3",{class:"title"},"Login Form",-1)),G=E(()=>u("div",{class:"tips"},[u("span",{style:{"margin-right":"20px"}},"username: admin"),u("span",null," password: any")],-1)),J=S({__name:"index",setup(e){const t=b(),{name:m}=A(t),{router:d,route:p}=H(),{timeStr:_}=Y(),s=v({username:"",password:""}),g=f({});V(()=>p.query,l=>{g.value=l},{immediate:!0});const w=async l=>{await l.validate(async o=>{o&&(n.value=!0,t.login(s).then(a=>{a.statusCode===200&&setTimeout(()=>{n.value=!1,L({title:_,message:`\u6B22\u8FCE\u767B\u5F55 ${m.value}`,type:"success"}),d.push({path:g.value.redirect||"/"})},1e3)}).catch(a=>{n.value=!1}))})},h=f(),x=U,n=f(!1);return(l,o)=>{const a=q,F=T,y=M,B=z;return D(),C("div",$,[u("div",j,[O,r(B,{model:s,rules:I(x),ref_key:"ruleFormRef",ref:h},{default:c(()=>[r(F,{prop:"username",style:{display:"flex"}},{default:c(()=>[r(a,{"prefix-icon":"UserFilled",size:"large",modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=i=>s.username=i),placeholder:"Please input userName",width:"80"},null,8,["modelValue"])]),_:1}),r(F,{prop:"password"},{default:c(()=>[r(a,{"prefix-icon":"Lock",size:"large",modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=i=>s.password=i),"show-password":"",placeholder:"Please input password"},null,8,["modelValue"])]),_:1}),r(y,{size:"large",type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:o[2]||(o[2]=i=>w(h.value)),loading:n.value},{default:c(()=>[R("Login ")]),_:1},8,["loading"]),G]),_:1},8,["model","rules"])])])}}});const ne=Q(J,[["__scopeId","data-v-14b4721f"]]);export{ne as default};
