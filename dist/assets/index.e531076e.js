import{d as A,aE as G,r as i,Q as h,a as n,k as u,w as r,D as v,f as l,c as k,I as E,F as U,a8 as w,G as m,m as x,C as B,j as F,a6 as J,B as O,br as Q,bs as q,J as z}from"./index.b0a92191.js";import{E as K}from"./el-overlay.46f1c5a2.js";import{E as W,a as X}from"./el-form-item.476a2c94.js";import{E as Y}from"./el-input.4699aa3e.js";import"./el-tag.6de52593.js";import{E as Z,a as ee}from"./el-select.7a26655f.js";import C from"./index.7961b46a.js";import"./index.b1330942.js";import"./debounce.54b4d000.js";const le=d=>(Q("data-v-4fe74608"),d=d(),q(),d),oe=le(()=>F("hr",{style:{"border-color":"#ebeef5","margin-bottom":"10px"}},null,-1)),ae={class:"footer"},te=A({__name:"index",props:{type:null,config:null,template:null,close:null,rules:null,confirmHandler:null,cancelHandler:null},setup(d){const o=d,I=G(o.rules),p=i(!0),a=i({});for(const s in o.config)a.value[s]=o.config[s];const D=h(()=>{switch(o.type){case"get":return"\u67E5\u770B\u7528\u6237";case"edit":return"\u7F16\u8F91\u7528\u6237";case"add":return"\u65B0\u589E\u7528\u6237"}}),f=h(()=>o.type==="get"),R=o.template.filter(s=>s.canModify===void 0||s.canModify===!0),S=()=>{o.cancelHandler(),p.value=!1,setTimeout(()=>{o.close()},200)},y=i(),_=i(null),g=i(null),H=async s=>{!s||await s.validate((c,b)=>{c&&(o.confirmHandler(a),_.value.length&&_.value[0].handleUpload(),g.value.length&&g.value[0].handleUpload(),p.value=!1,setTimeout(()=>{o.close()},200))})},N=()=>{p.value=!1,o.cancelHandler(),o.close()};return(s,c)=>{const b=Y,P=Z,T=ee,L=W,M=X,$=J,V=O,j=K;return n(),u(j,{modelValue:p.value,"onUpdate:modelValue":c[1]||(c[1]=e=>p.value=e),onClosed:N,title:l(D)},{default:r(()=>[v($,{height:"100%"},{default:r(()=>[oe,v(M,{class:"form",model:l(a),rules:I,ref_key:"ruleFormRef",ref:y},{default:r(()=>[(n(!0),k(E,null,U(l(R),e=>(n(),u(L,{label:e.label+":","label-width":"100px",prop:e.prop},{default:r(()=>[e.type==="input"?(n(),u(b,{key:0,modelValue:l(a)[e.prop],"onUpdate:modelValue":t=>l(a)[e.prop]=t,disabled:l(f)},null,8,["modelValue","onUpdate:modelValue","disabled"])):e.type==="select"?(n(),u(T,{key:1,disabled:l(f),placeholder:`\u8BF7\u9009\u62E9${e.label}`,style:{width:"100%"},modelValue:l(a)[e.prop],"onUpdate:modelValue":t=>l(a)[e.prop]=t},{default:r(()=>[(n(!0),k(E,null,U(e.children,t=>(n(),u(P,{label:t.label,value:t.value},null,8,["label","value"]))),256))]),_:2},1032,["disabled","placeholder","modelValue","onUpdate:modelValue"])):e.type==="avatar"?(n(),u(C,w({key:2,ref_for:!0,ref_key:"avatarRef",ref:_},e.config,{disabled:l(f),"image-url":d.config[e.config.imageProps],modelValue:l(a)[e.prop],"onUpdate:modelValue":t=>l(a)[e.prop]=t}),{tip:r(()=>[m(x(e.config.tip),1)]),_:2},1040,["disabled","image-url","modelValue","onUpdate:modelValue"])):e.type==="photo"?(n(),u(C,w({key:3,ref_for:!0,ref_key:"photoRef",ref:g},e.config,{disabled:l(f),"image-url":d.config[e.config.imageProps],modelValue:l(a)[e.prop],"onUpdate:modelValue":t=>l(a)[e.prop]=t}),{tip:r(()=>[m(x(e.config.tip),1)]),_:2},1040,["disabled","image-url","modelValue","onUpdate:modelValue"])):B("",!0)]),_:2},1032,["label","prop"]))),256))]),_:1},8,["model","rules"])]),_:1})]),footer:r(()=>[F("div",ae,[v(V,{onClick:S},{default:r(()=>[m("\u53D6\u6D88")]),_:1}),l(f)?B("",!0):(n(),u(V,{key:0,type:"primary",onClick:c[0]||(c[0]=e=>H(y.value))},{default:r(()=>[m("\u786E\u5B9A")]),_:1}))])]),_:1},8,["modelValue","title"])}}});const me=z(te,[["__scopeId","data-v-4fe74608"]]);export{me as default};
