import{ag as v,au as b,u as f,c5 as h,ax as g,aH as i,A as C,aJ as w,aG as M,c6 as k,aI as x,bm as r,b as S,g as m,d as E,D as O,c7 as d,e as y,M as T}from"./index.cf05daec.js";import{g as P}from"./validator.c8fe8fef.js";const Y=e=>{v(e)||b("[useLockscreen]","You need to pass a ref param to this function");const t=f("popup"),s=h(()=>t.bm("parent","hidden"));if(!g||i(document.body,s.value))return;let n=0,a=!1,l="0";const o=()=>{setTimeout(()=>{x(document.body,s.value),a&&(document.body.style.width=l)},200)};C(e,c=>{if(!c){o();return}a=!i(document.body,s.value),a&&(l=document.body.style.width),n=P(t.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,p=w(document.body,"overflowY");n>0&&(u||p==="scroll")&&a&&(document.body.style.width=`calc(100% - ${n}px)`),M(document.body,s.value)}),k(()=>o())},I=e=>{if(!e)return{onClick:r,onMousedown:r,onMouseup:r};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},z=S({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),H={click:e=>e instanceof MouseEvent};var B=E({name:"ElOverlay",props:z,emits:H,setup(e,{slots:t,emit:s}){const n=f("overlay"),a=u=>{s("click",u)},{onClick:l,onMousedown:o,onMouseup:c}=I(e.customMaskEvent?void 0:a);return()=>e.mask?O("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:o,onMouseup:c},[y(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(t,"default")])}});const A=B;export{A as E,I as a,Y as u};
